<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            text-align: center;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        
        button:hover {
            background: #5568d3;
        }
        
        #log {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: left;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .log-entry {
            padding: 5px;
            margin: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h1>
    <p>Ø§Ø®ØªØ¨Ø± Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</p>
    
    <div>
        <button onclick="testPopup()">ğŸ“± Rewarded Popup</button>
        <button onclick="testInterstitial()">ğŸ¬ Rewarded Interstitial</button>
        <button onclick="testInApp()">ğŸ“² In-App Interstitial</button>
    </div>
    
    <button onclick="clearLog()" style="background: #999;">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
    
    <div id="log">
        <div class="log-entry info">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±...</div>
    </div>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src='//libtl.com/sdk.js' data-zone='10587729' data-sdk='show_10587729'></script>

<script>
    const tg = window.Telegram ? window.Telegram.WebApp : null;
    if (tg) {
        tg.ready();
        tg.expand();
    }

    function log(message, type = 'info') {
        const logDiv = document.getElementById('log');
        const entry = document.createElement('div');
        entry.className = `log-entry ${type}`;
        entry.textContent = `[${new Date().toLocaleTimeString('ar')}] ${message}`;
        logDiv.appendChild(entry);
        logDiv.scrollTop = logDiv.scrollHeight;
        console.log(message);
    }

    function clearLog() {
        document.getElementById('log').innerHTML = '<div class="log-entry info">ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</div>';
    }

    // Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('load', function() {
        log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©', 'success');
        
        if (typeof show_10587729 === 'undefined') {
            log('âŒ Ø¯Ø§Ù„Ø© show_10587729 ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©!', 'error');
        } else {
            log('âœ… Ø¯Ø§Ù„Ø© show_10587729 Ù…ÙˆØ¬ÙˆØ¯Ø©', 'success');
        }
        
        if (tg) {
            log('âœ… Telegram WebApp Ù…ØªØµÙ„', 'success');
        } else {
            log('âš ï¸ Telegram WebApp ØºÙŠØ± Ù…ØªØµÙ„ (Ø§Ø®ØªØ¨Ø§Ø± Ø®Ø§Ø±Ø¬ ØªÙ„Ø¬Ø±Ø§Ù…)', 'info');
        }
    });

    // Ø§Ø®ØªØ¨Ø§Ø± Rewarded Popup
    function testPopup() {
        log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¹Ø±Ø¶ Rewarded Popup...', 'info');
        
        if (typeof show_10587729 === 'undefined') {
            log('âŒ Ø§Ù„Ø¯Ø§Ù„Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©!', 'error');
            return;
        }
        
        show_10587729('pop')
            .then(() => {
                log('âœ… Ù†Ø¬Ø­ Ø¹Ø±Ø¶ Rewarded Popup', 'success');
                alert('âœ… ØªÙ…Øª Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†!');
            })
            .catch(error => {
                log(`âŒ ÙØ´Ù„ Rewarded Popup: ${error}`, 'error');
                alert('âŒ ÙØ´Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†');
            });
    }

    // Ø§Ø®ØªØ¨Ø§Ø± Rewarded Interstitial
    function testInterstitial() {
        log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¹Ø±Ø¶ Rewarded Interstitial...', 'info');
        
        if (typeof show_10587729 === 'undefined') {
            log('âŒ Ø§Ù„Ø¯Ø§Ù„Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©!', 'error');
            return;
        }
        
        show_10587729()
            .then(() => {
                log('âœ… Ù†Ø¬Ø­ Ø¹Ø±Ø¶ Rewarded Interstitial', 'success');
                alert('âœ… ØªÙ…Øª Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†!');
            })
            .catch(error => {
                log(`âŒ ÙØ´Ù„ Rewarded Interstitial: ${error}`, 'error');
                alert('âŒ ÙØ´Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†');
            });
    }

    // Ø§Ø®ØªØ¨Ø§Ø± In-App Interstitial
    function testInApp() {
        log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¹Ø±Ø¶ In-App Interstitial...', 'info');
        
        if (typeof show_10587729 === 'undefined') {
            log('âŒ Ø§Ù„Ø¯Ø§Ù„Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©!', 'error');
            return;
        }
        
        try {
            show_10587729({
                type: 'inApp',
                inAppSettings: {
                    frequency: 1,
                    capping: 0.1,
                    interval: 5,
                    timeout: 2,
                    everyPage: false
                }
            });
            log('âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ In-App Interstitial', 'success');
        } catch(error) {
            log(`âŒ ÙØ´Ù„ In-App: ${error}`, 'error');
        }
    }
</script>

</body>
</html>
